---
title: 公開設定
description: 公開設定を使用すると、デフォルトでアセットをDynamic Media ClassicサーバーからWebサイトやアプリケーションに配信する方法を決定できます。
contentOwner: admin
content-type: reference
products: SG_EXPERIENCEMANAGER/Dynamic-Media-Classic
feature: Dynamic Media Classic
role: Admin
exl-id: 699d4c12-e47b-4c6b-86f3-dc7aaaa56c1e
source-git-commit: df689ff5a127bfbc400ca5331168d1ff7bb0b42e
workflow-type: tm+mt
source-wordcount: '2403'
ht-degree: 47%

---

# 公開設定 {#publish-setup}

公開設定ページの設定によって、デフォルトでDynamic Media ClassicサーバーからWebサイトやアプリケーションにアセットを配信する方法が決まります。 設定を指定しない場合、Dynamic Media Classicサーバーは公開設定ページのデフォルト設定に従ってアセットを配信します。 例えば、解像度属性を含まない画像を配信する要求を実行すると、Image Serverページの「デフォルトのオブジェクト解像度」設定を持つ画像が生成されます。

管理者は、Image Server、Image RendererおよびVignetteページのデフォルト設定を変更して、サーバーからアセットを配信する際のデフォルト設定を指定できます。

公開設定ページを開くには、**[!UICONTROL 設定]** / **[!UICONTROL アプリケーション設定]** / **[!UICONTROL 公開設定]**&#x200B;をクリックします。

>[!NOTE]
>
>公開設定ページは、Webサイトの開発者やプログラマーが使用できます。 Dynamic Media Classicでは、これらのページの設定を変更するユーザーは、Dynamic Media Classic、HTTPプロトコルの標準と規則、基本的なイメージングテクノロジーに精通していると想定しています。

## Image Server {#image-server}

Image Serverページでは、Image Serverから画像を配信するためのデフォルト設定を指定します。 これらの5つのカテゴリの設定を使用できます（設定について詳しくは、 Image Serverページ自体を参照してください）。

Dynamic Media Classicのサポート担当者の支援を受けた場合にのみ、これらの設定を変更してください。

* **カタログ管理**  — これらの設定は、Dynamic Media Classicとカタログとのやり取りを決定します。ほとんどのWebサーバーとは異なり、Dynamic Media Image ServerのURL呼び出しは、適切なイメージファイルではなく、マニフェストファイルまたはカタログファイルに送信されます。 カタログファイル（eCatalog と混同しないでください）には、Image Server に公開されたすべてのコンテンツのリストと、各画像へのパスが含まれています。Digimarc ID がある場合は、「Digimarc ユーザ情報」セクションにユーザ情報を入力します。

* **要求属性**  — これらの設定は、サーバーから配信できる画像を制限します。例えば、*最大* **[!UICONTROL 返信画像サイズの制限]**&#x200B;は&#x200B;**[!UICONTROL 幅]** 5000および&#x200B;**[!UICONTROL 高さ]** 5000です。

* **デフォルトの要求属性**  — これらの設定は、画像のデフォルトの表示に関係します。

* **共通のサムネール属性**  — これらの設定は、サムネール画像のデフォルトの外観と配置に関係します。

* **カタログフィールドの初期設定**  — これらの設定は、画像の解像度とデフォルトのサムネールの種類に関係します。

* **カラーマネジメント属性**  — これらの設定は、使用するICCカラープロファイルを決定します。

* **互換性の属性**  — この設定により、後方互換性を確保するためにバージョン3.6の場合と同様に、テキストレイヤーの先頭と末尾の段落が処理されます。

* **ローカリゼーションサポート**  — これらの設定を使用すると、複数のロケール属性を管理できます。また、ロケールマップ文字列を指定することもできます。これにより、ビューアのツールチップで使用する言語を指定できます。

   例えば、様々な国で販売している多国籍ブランドである場合は、各国でロケール固有のビューアを使用できるようにすることができます。この機能を実現するには、ロケールマップ文字列を指定します。次に、必要な言語に翻訳したテキスト文字列を追加して、ビューアのプリセットのツールチップテキストを編集します。

   >[!NOTE]
   > 「ローカリゼーションサポート」オプションを設定するには、[Admin Consoleを使用してサポートケースを作成します。](https://helpx.adobe.com/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html) サポートケースで、セットアップヘルプをリクエストします。

   **「ローカリゼーションサポート」**&#x200B;の設定について詳しくは、[アセットのローカリゼーションを設定する場合の考慮事項](publish-setup.md#considerations_when_setting_up_localization_of_assets)を参照してください。

### アセットのローカリゼーションを設定する場合の考慮事項 {#considerations-when-setting-up-localization-of-assets}

>[!NOTE]
>
>「ロケールマップ」フィールドなど、Dynamic Media Classicで「ローカリゼーションサポート」オプションを設定する場合は、Admin Consoleを使用してサポートケースを作成します。[](https://helpx.adobe.com/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html) サポートケースで、セットアップヘルプをリクエストします。

Dynamic Media Classicの一般的な使用方法は、eコマースWebサイトの製品画像を管理することです。 国際的なビジネスでは、同じ製品のアセットの表示が国によって異なるという課題に直面します。通常、違いはメディア全体の一部に適用されます。 このような相違に対処するため、国ごとにすべてのアセットをコピーして異なる部分だけを上書きするのは大変な作業で、マスターアセットは 1 つという概念に矛盾します。このようなアセットの相違によって、オーディオトラックが異なる国別のビデオから、製品に使用される電源コードの違いという微妙ながらも重要な違いまで対応できます。Dynamic Media Classicでは、基本的なルックアップメカニズムが使用されます。 Image Server が検索するアセットのサフィックスの順序を定義します（必要なロケールから始めます）。

#### アセットのローカライズ

IS（画像サービング）要求のロケールは、次の IS/IR（画像レンダリング）コマンドで識別されます。

`locale=`

このコマンドはロケール ID（locId）文字列を受け入れ、大文字小文字は区別しません。ロケール ID は通常、英文字と「_」を含む 2 ～ 6 文字の文字列です。

ISは、任意の印刷可能なASCII文字列をサポートします。 `locale=`コマンドはグローバルスコープを持ち、ネストされたIS要求とIR要求、参照されたテンプレート、画像レイヤーを含む要求全体に適用されます。 要求ごとに複数のロケールを設定すること、例えばレイヤーごとに異なるロケールを設定することはできません。ただし、ネストされた要求での明示的なオーバーライドは可能だと考えられます。

`locale=`を指定しない場合、`attribute::DefaultLocale`が翻訳エンジンに渡されます。 `locale=`の値には、制限付きの入力検証が適用されます。 空の`locale=`値を使用できます。 `locale=`はグローバルスコープなので、`attribute::DefaultLocale`はリクエスト全体に対してメインカタログから提供されます。

`locale=`と`attribute::DefaultLocale`を使用する利点の一部を次に示します。

* 複数のロケールでコンテンツを共有できる。
* 汎用 ID を使用して、ロケール固有のコンテンツにアクセスできる。
* 命名規則やロケール固有のコンテンツの管理に柔軟性を持たせることができる（ロケールのプリフィックスとサフィックスの使い分けや、個別のカタログでロケール固有のコンテンツを使用するなど）。
* ロケール固有のバージョンへのアクセスをサポートします。
* 画像セットなどの集計オブジェクトには、ロケール固有の可能性のあるコンテンツへの汎用参照が含まれる場合があります。
* 画像、画像セット、ビネット、マテリアル、ビューア設定レコードなど、ローカリゼーションが必要なカタログで管理されるすべてのコンテンツをサポートします。
* IPS データベースや IS マニフェストのメカニズムの変更を最小限に抑えられる。
* RFC IS-63を実装すると、ビデオやスキンなどの静的コンテンツのサポートが追加されます。
* 初期設定のロケールを設定できる。

#### アプリケーションのシナリオ

| アプリケーション | シナリオ |
|--- |--- |
| ビューアのローカリゼーション | 静的コンテンツのカタログが実装されたら、ローカリゼーションは完全に locale= パラメータで制御されます。このパラメータは IS に対して行われたすべての要求に付加されます。設定レコードやスキン、スプラッシュ画面などに、ロケール固有のバリアントを含めたり含めなかったりすることができます。ローカライズされるコンテンツとその ID をビューアで識別する必要はなく、IS から適切なコンテンツが提供されます。 |
| 画像とビデオ | 多国籍企業では、多くの場合、汎用コンテンツとロケール固有のコンテンツを組み合わせて使用します。このメカニズムでは、画像やビデオの参照を汎用にし、ロケール固有のコンテンツがある場合は IS から提供することができます。 |
| 画像セットとメディアセット | 汎用の画像セットからロケール固有の画像セットへの変換をビューアで処理する場合など、一部のロケールでは画像セット全体が異なる場合があります。 より一般的に、汎用セット内の個々のIDは、ローカライズされたコンテンツを参照できます。 例えば、アプライアンスのほとんどの写真は、Campaign コントロールパネルの写真を除き、すべての言語で同じにすることができます。 IS で ID が自動的に変換されるので、ロケール固有の画像セットを生成する必要はありません。 |

#### アセットのローカリゼーションの実装

Dynamic Media Classicと画像サービングには、画像と静的コンテンツのローカライズを可能にするインターフェイスがあります。

ローカリゼーションを行わない場合、Image Server の URL は次のようになります。

`https://server/is/image/company/image`

ローカリゼーションでは、Image Server URLは、次のように`locale=`パラメーターをパスに追加します。

`https://server/is/image/company/image?locale=de_DE`

Image ServerがHTTP呼び出しを受け取ると、 `locale=`パラメーターは、 **[!UICONTROL 設定]** / **[!UICONTROL アプリケーション設定]** / **[!UICONTROL 公開設定]** / **[!UICONTROL 画像サーバー]** > **[!UICONTROL ローカリゼーションサポートにあるlocaleMapフィールドを通じて解析されますa10/>グループとして使用します。]**

ロケールマップフィールドには、パイプ記号（|）で区切られたエントリのリストが含まれています。

各エントリには、コンマ区切りの値のリストが含まれています。最初の値は、`locale=`パラメーターによって渡される検索値です。 残りの値はサフィックス値または置換値で、既存の画像が生成されるまで試行されます。

サフィックス値または置換値が適用されるかどうかは、**[!UICONTROL 設定]**／**[!UICONTROL アプリケーション設定]**／**[!UICONTROL 公開設定]**／**[!UICONTROL Image Server]**／**[!UICONTROL ローカリゼーションサポート]**&#x200B;グループのグローバルロケール設定によって決まります。

>[!NOTE]
>
>グローバルロケール設定は、Dynamic Media Classicインターフェイス内ではなく、APIを使用して設定する場合にのみ可能です。

**サフィックスの例:**

| URL | localeMap ID | 結果 |
|--- |--- |--- |
| `https://server/is/image/company/image?locale=de_DE` | `de_DE,_DE,|fr_FR,_FR,` | GlobalLocale の定義はありません。ロケールパラメータ de_DE が、localeMap の最初のエントリに一致します。最初の対応する値 _DE がサフィックスとして追加され、image_DE というアセットの検索が Image Server で行われます。サーバで見つかった場合は、その画像が返されます。見つからなかった場合は、2 番目の値 &quot;&quot; がサフィックスとして使用され、その結果画像そのものが返されます。 |

**置換の例:**

| URL | GlobalLocale ID と localeMap ID | 結果 |
|--- |--- |--- |
| `https://server/is/image/company/image-main-01?locale=de_DE` | `GlobalLocale=mainlocaleMap -` <br><br/> `de_DE,de,main|fr_FR,fr,main` | この置換の例では、GlobalLocale に main が設定されています。ロケールパラメータ de_DE が、localeMap の最初のエントリに一致します。GlobalLocaleのサブ文字列が見つかり、localeMapの最初の対応する値`de`に置き換えられます。`image-de-01`. この画像が Image Server で見つかった場合は、その画像が返されます。見つからなかった場合は、2 番目の値に置き換えられて `image-main-01` で検索されます。 |

URL でロケールが定義されていない場合、Image Server は DefaultLocale（定義されている場合）を取り込み、URL に適用します。

`locale=`に不明なロケールまたは空のロケールパラメータが指定された場合、localeMapは、「で始まる」空の値をスキャンします。 不明なロケールに適用するデフォルトのロケールを持つことが重要です。

#### defaultImageについて

Image Server は、要求されたロケールの選択肢を 1 つずつ検索します。一致が見つからない場合、ロケールオプションがdefaultImageに適用され、一致するバージョンが返されます。 したがって、各ロケールにローカリゼーションを使用しない画像のオプションを含める必要があるか、ローカライズされたdefaultImageバージョンがDynamic Media Classicで使用可能になります。

#### localeMap の検索のシナリオ

次のロケールをサポートするとします。

`en, en_us, en_uk, de, de_at, de_de, fr`

英語、ドイツ語、フランス語の各ロケールに、それぞれサフィックス`_E`、`_G`、`_F`をマッピングします。 すべての例で、汎用の入力画像 ID は `myImg` です。

##### localeMap の検索の標準的な動作

ロケール ID は対応するサフィックスにマップされます。カタログ内でロケール固有の ID が見つからない場合は、汎用 ID が使用されます。locSuffix の値が空の場合は汎用 ID にマップされることに注意してください。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,`

| locale= | 検索する出力 ID |
|--- |--- |
| en,en_us, en_uk | myImg_E,myImg |
| de,de_de,de_at | myImg_D,myImg |
| fr | myImg_F,myImg |
| その他 | - |

##### ロケールが不明な場合の localeMap の検索

不明なロケールを、特定の ID または汎用 ID にマップできます。例えば、不明なロケールを英語のIDにマッピングしたり、ロケールが存在しない場合は汎用IDにマッピングしたりできます。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,|,_E,`

| locale= | 検索する出力 ID |
|--- |--- |
| de,de_de,de_at | myImg_D,myImg |
| fr | myImg_F,myImg |
| その他 | myImg_E,myImg |

また、次のように、不明なロケールに対してUなどの専用のlocSuffixを設定し、 `_U`が存在しない場合はデフォルトの画像を強制的に設定することもできます。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,|,U`

または、次のように汎用 ID に直接マップできます。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,|,`

##### 多層検索を使用した localMap の検索

ヨーロッパ、中東、北米などロケールをグループ化し、肌の露出度など地域の基準に対処することが望ましい場合が多くあります。多層検索を使用して、このような効果を実現することができます。

この例では、西欧で使用するコレクションと中東で使用するコレクションをサポートするとします。どちらのコレクションも汎用の画像コレクションに基づいて作成し、いくつかの画像を追加または変更します。次に、2つの中東のバリアントに対して`m1, m2`、3つの西側のロケールに対して`w1, w2,`と`w3`のように、特定のロケール用に、画像が`w1`と`w3`で共有される点を除き、両方のコレクションがさらに絞り込まれます。 不明なロケールは汎用のコレクションのみにマッピングされ、ロケール固有の画像にはアクセスされません。マッピングは次のようになります。

`attribute::LocaleMap=w1,-W,|w2,-W2,-W,|w3,-W,|m1,-M1,-M,|m2,-M2,-M,|,`

| locale= | 検索する出力 ID |
|--- |--- |
| w1, w3 | myImg-W, myImg |
| w2 | myImg-W2, myImg-W, myImg |
| m1 | myImg-M1, myImg-M, myImg |
| m2 | myImg-M2, myImg-M, myImg |
| その他 | mylmg |

##### 特定の ID の検索による localeMap の検索

一部の画像の命名規則では、汎用の画像IDをサポートしていません。 要求にある汎用 ID を、カタログ内の特定の ID にマップする必要があります。ただし、正確な特定のIDが不明な場合があります。

1つ目の例を基に、すべての言語の画像にサフィックス`_1`、`_2`、`_3`を付けることができます。 フランス語のロケールに固有の画像には、サフィックス`_22`または`_23`を付けることができます。 また、ドイツ語のロケールに固有の画像には、サフィックス`_470`または`_480`を付けることができます。

`attribute::LocaleMap=,_1,_2,_3|fr,_22,_23,_1,_2,_3|de,_470,_480,_1,_2,_3|de_at,_470,_480,_1,_2,_3|de_de,_470,_480,_1,_2,_3`

| locale= | 検索する出力 ID |
|--- |--- |
| fr | myImg_22, myImg_23, myImg_1, myImg_2, myImg_3 |
| de, de_at, de_de | myImg_470, myImg_480, myImg_1, myImg_2,myImg_3 |
| その他 | myImg_1, myImg_2, myImg_3 |

##### ローカリゼーションサポートを実装する場合の重要な考慮事項

* ローカリゼーションの使用は ID に基づく呼び出しに限られ、パスに基づくアセットの呼び出しには使用できません。したがって、ロケールを使用してビデオを呼び出す場合は、ビデオのフルパスではなく会社 ID またはアセット ID として呼び出す必要があります。rtmpはパスベースのビデオ呼び出しでのみ使用されるので、ローカリゼーションでは使用できません。
* localeMap がアクティブな場合は、単一のビデオを含む混在メディアセットを使用できません。使用した場合は、このセットのコンテンツの呼び出しが失敗します。この問題を回避するには、1つのビデオをアダプティブビデオセットに追加します。 追加したら、このアダプティブビデオセットを混在メディアセットに追加します。
* アダプティブビデオセットのコンテンツの要求など、ローカライズされない要求があります。したがって、アダプティブビデオセットをローカリゼーションと共に使用する場合は、アダプティブビデオセットを混在メディアセット内に配置します。 次に、`locale=`パラメーターを使用して、混在メディアビューアにセットを呼び出します。

## 画像レンダラ {#image-renderer}

画像レンダラーページでは、画像レンダリングサーバーから画像セットを配信するためのデフォルト設定を指定します。 設定は次の5つのカテゴリで使用できます（設定について詳しくは、 Image Serverページ自体を参照してください）。

* **カタログ管理**  — これらの設定は、Dynamic Media Classicとカタログファイルのやり取りを決定します。Dynamic Media Classic Render ServerのURL呼び出しは、カタログに対しておこなわれ、その呼び出しは、サーバーから画像を配信するために実行されます。 Dynamic Media Classicのサポート担当者の支援を受けた場合にのみ、これらの設定を変更してください。

* **セッション属性**  — これらの設定は、エラーパラメーター、相対画像URLのURL、およびオブジェクトの重複を許可するかどうかを設定します。

* **デフォルトのマテリアル属性**  — これらの設定は、画像のデフォルトの解像度とシャープの設定を指定します。

* **応答画像属性**  — これらの設定は、画像のデフォルトの表示に関係します。

* **カラーマネジメント属性**  — これらの設定は、画像のデフォルトのカラー設定に関係します。

## ビネット {#vignette}

ビネットページには、ビネットのデフォルトの外観を設定するための設定が用意されています（オプションについて詳しくは、ページ自体を参照してください）。
