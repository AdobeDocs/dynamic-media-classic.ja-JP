---
title: 公開設定
description: Publish設定を使用すると、Adobe Dynamic Media Classic サーバーから web サイトやアプリケーションにアセットがデフォルトでどのように配信されるかを指定できます。
contentOwner: Rick Brough
content-type: reference
products: SG_EXPERIENCEMANAGER/Dynamic-Media-Classic
feature: Dynamic Media Classic
role: Admin
exl-id: 699d4c12-e47b-4c6b-86f3-dc7aaaa56c1e
topic: Administration, Content Management
level: Intermediate
source-git-commit: 29752cf9eca0fc9bb760c721e1c3dc8e4ef912c3
workflow-type: tm+mt
source-wordcount: '2383'
ht-degree: 30%

---

# 公開設定 {#publish-setup}

Publishの設定ページの設定は、Adobe Dynamic Media Classic サーバーから web サイトまたはアプリケーションにアセットがデフォルトでどのように配信されるかを決定します。 設定が指定されていない場合、Adobe Dynamic Media Classic サーバーはPublish設定ページのデフォルト設定に従ってアセットを配信します。 例えば、解像度属性を含まない画像を配信リクエストすると、Image Server ページに「デフォルトのオブジェクト解像度」設定の画像が生成されます。

管理者は、Image Server、画像レンダラーおよびビネットページのデフォルト設定を変更して、サーバーからアセットを配信するためのデフォルト設定を確立することができます。

Publish設定のページを開くには、**[!UICONTROL 設定]**/**[!UICONTROL アプリケーション設定]**/**[!UICONTROL Publish設定]** に移動します。

>[!NOTE]
>
>Publish設定ページは、経験豊富な web サイト開発者やプログラマーが使用します。 Adobe Dynamic Media Classicでは、これらのページの設定を変更するユーザーが、Adobe Dynamic Media Classic、HTTP プロトコルの標準と規則、基本的な画像技術に精通していることを前提としています。

## Image Server {#image-server}

Image Server ページでは、Image Server から画像を配信するためのデフォルト設定を指定します。 これらの 5 つのカテゴリで設定を使用できます（設定について詳しくは、Image Server のページ自体を参照してください）。

これらの設定の変更は、Adobe Dynamic Media Classic サポート担当者の協力が必要です。

* **[!UICONTROL カタログ管理]**：これらの設定は、Adobe Dynamic Media Classicとカタログのやり取りを決定します。 ほとんどの web サーバーとは異なり、Dynamic Media Image Server の URL 呼び出しは、画像ファイルの適切な場所ではなく、マニフェストまたはカタログファイルに送られます。 カタログファイル（eCatalog と混同しないこと）には、Image Server に公開されるすべてのコンテンツのリストが含まれます。 また、各画像へのパスも含まれます。 Digimarc ID がある場合は、「Digimarc ユーザ情報」セクションにユーザ情報を入力します。

* **[!UICONTROL リクエスト属性]**：この設定では、サーバーから配信可能な画像に制限を適用します。 例えば、*最大* **[!UICONTROL 返信画像のサイズ制限]** は **[!UICONTROL 幅]** 5000 および **[!UICONTROL 高さ]** 5000 です。

* **[!UICONTROL デフォルトのリクエスト属性]**：これらの設定は、画像のデフォルトの表示に関係します。

* **[!UICONTROL 共通のサムネール属性]**：これらの設定は、サムネール画像のデフォルトの外観と配置に関係します。

* **[!UICONTROL カタログフィールドのデフォルト]**：これらの設定は、画像の解像度とデフォルトのサムネールの種類に関係します。

* **[!UICONTROL カラーマネジメント属性]**：これらの設定は、使用される ICC カラープロファイルを決定します。

* **[!UICONTROL 互換性属性]**：この設定を使用すると、テキストレイヤーの先頭と末尾の段落をバージョン 3.6 と同じように扱って、後方互換性を確保できます。

* **[!UICONTROL ローカライゼーションサポート]**：この設定によって、複数のロケール属性を管理します。 また、ロケールマップ文字列を指定することもできます。これにより、ビューアのツールチップで使用する言語を指定できます。

  例えば、様々な国で販売している多国籍ブランドである場合は、各国でロケール固有のビューアを使用できるようにすることができます。この機能を実現するには、ロケールマップ文字列を指定します。次に、ビューアのプリセットでツールヒントテキストを編集します。 必要な言語の翻訳済みテキスト文字列を追加するだけです。

  >[!NOTE]
  > ローカライゼーションサポートオプションを設定するには、[Admin Consoleを使用してサポートケースを作成します。](https://helpx.adobe.com/jp/enterprise/using/support-for-experience-cloud.html) サポートケースでは、設定ヘルプをリクエストします。

  **[!UICONTROL 「ローカリゼーションサポート」]**&#x200B;の設定について詳しくは、[アセットのローカリゼーションを設定する場合の考慮事項](publish-setup.md#considerations_when_setting_up_localization_of_assets)を参照してください。

### アセットのローカリゼーションを設定する場合の考慮事項 {#considerations-when-setting-up-localization-of-assets}

>[!NOTE]
>
>「ロケールマップ」フィールドなど、Adobe Dynamic Media Classicにローカライゼーションサポートオプションを設定する場合は、[Admin Consoleを使用してサポートケースを作成します。](https://helpx.adobe.com/jp/enterprise/using/support-for-experience-cloud.html) サポートケースでは、設定ヘルプをリクエストします。

Adobe Dynamic Media Classicの一般的な使用方法は、e-Commerce web サイトで商品画像を管理することです。 国際的なビジネスでは、同じ製品のアセットの表示が国によって異なるという課題に直面します。通常、違いはメディア全体のいくつかの部分のためのものです。 国ごとに全ての資産をコピーし、その違いだけを上書きすることで、このような違いに対処するのは大変な労力であり、単一の主要資産の比喩とは矛盾します。 このようなアセットの相違によって、オーディオトラックが異なる国別のビデオから、製品に使用される電源コードの違いという微妙ながらも重要な違いまで対応できます。Adobe Dynamic Media Classicでは、基本的な検索メカニズムを使用します。 Image Server が検索するアセットのサフィックスの順序を定義します（必要なロケールから始めます）。

#### アセットのローカライズ方法

IS（画像サービング）要求のロケールは、次の IS/IR（画像レンダリング）コマンドで識別されます。

`locale=`

このコマンドは、大文字と小文字を区別しないロケール ID （locId）文字列を受け入れます。 ロケール ID は通常、文字と「`_`」で構成される 2 ～ 6 文字の文字列です。

は、任意の印刷可能な ASCII 文字列をサポートします。 `locale=` コマンドにはグローバル スコープがあります。つまり、ネストされたすべての IS および IR リクエスト、参照されたテンプレート、画像レイヤーを含むリクエスト全体に適用されます。 要求ごとに複数のロケールを設定すること、例えばレイヤーごとに異なるロケールを設定することはできません。ただし、ネストされた要求での明示的なオーバーライドは可能だと考えられます。

`locale=` が指定されていない場合、`attribute::DefaultLocale` が翻訳エンジンに渡されます。 `locale=` 値には、制限付き入力検証が適用されます。 空の `locale=` 値を使用できます。 `locale=` にはグローバルスコープがあるので、`attribute::DefaultLocale` はリクエスト全体に対してメインカタログによって提供されます。

`locale=` と `attribute::DefaultLocale` を使用する利点には、次のようなものがあります。

* 複数のロケールでコンテンツを共有できる。
* 汎用 ID を使用して、ロケール固有のコンテンツにアクセスできる。
* 命名規則やロケール固有のコンテンツの管理に柔軟性を持たせることができる（ロケールのプリフィックスとサフィックスの使い分けや、個別のカタログでロケール固有のコンテンツを使用するなど）。
* ロケール固有のバージョンへのアクセスをサポートします。
* 画像セットなどの集計オブジェクトには、ロケール固有のコンテンツへの汎用参照が含まれる場合があります。
* では、画像、画像セット、ビネット、マテリアル、ビューア設定レコードなど、ローカライゼーションが必要なカタログによって管理されるすべてのコンテンツをサポートしています。
* IPS データベースや IS マニフェストのメカニズムの変更を最小限に抑えられる。
* ビデオやスキンなどの静的コンテンツのサポートは、RFC IS-63 が実装される際に追加されます。
* 初期設定のロケールを設定できる。

#### アプリケーションシナリオ

| アプリケーション | シナリオ |
| --- | --- |
| ビューアのローカリゼーション | 静的なコンテンツカタログが実装されると、IS に対して行われるすべてのリクエストに追加された locale= パラメーターで、ローカライゼーションが完全に制御されます。 設定レコードやスキン、スプラッシュ画面などに、ロケール固有のバリアントを含めたり含めなかったりすることができます。ローカライズされるコンテンツとその ID をビューアで識別する必要はなく、IS から適切なコンテンツが提供されます。 |
| 画像とビデオ | 多国籍企業では、多くの場合、汎用コンテンツとロケール固有のコンテンツを組み合わせて使用します。このメカニズムでは、画像やビデオの参照を汎用にし、ロケール固有のコンテンツがある場合は IS から提供することができます。 |
| 画像セットとメディアセット | ビューアで処理される汎用画像からロケール固有の画像セットへの変換を使用して、eCatalog が異なる場合など、一部のロケールでは画像セット全体が異なる場合があります。 より一般的には、汎用セット内の個々の ID が、ローカライズされたコンテンツを参照できます。 例えば、Campaign コントロールパネルの写真を除き、アプライアンスのほとんどの写真は、すべての言語で同じにすることができます。 は ID を自動的に翻訳するので、ロケール固有の画像セットを生成する必要はありません。 |

#### アセットのローカリゼーションの実装

Adobe Dynamic Media Classicと画像サービングには、画像と静的コンテンツをローカライゼーションできるインターフェイスがあります。

ローカリゼーションを行わない場合、Image Server の URL は次のようになります。

`https://server/is/image/company/image`

ローカライゼーションでは、次に示すように、Image Server の URL によって `locale=` パラメーターがパスに追加されます。

`https://server/is/image/company/image?locale=de_DE`

Image Server が http 呼び出しを受信すると、`locale=` パラメーターは、**[!UICONTROL 設定]**/**[!UICONTROL アプリケーション設定]**/**[!UICONTROL Publish設定]**/**[!UICONTROL Image Server]**/**[!UICONTROL ローカリゼーションサポート]** グループの `localeMap` フィールドを介して解析されます。

ロケールマップフィールドには、パイプ記号（|）で区切られたエントリのリストが含まれています。

各エントリには、コンマ区切りの値のリストが含まれています。最初の値は、`locale=` パラメーターを通じて渡される検索値です。 残りの値はサフィックス/置き換え値で、既存の画像が生成されるまで試されます。

サフィックス値または置換値が適用されるかどうかは、**[!UICONTROL 設定]**／**[!UICONTROL アプリケーション設定]**／**[!UICONTROL 公開設定]**／**[!UICONTROL Image Server]**／**[!UICONTROL ローカリゼーションサポート]**&#x200B;グループのグローバルロケール設定によって決まります。

>[!NOTE]
>
>グローバルロケール設定は、Adobe Dynamic Media Classic インターフェイス内ではなく、API を使用して設定した場合にのみ使用できます。

**サフィックスの例：**

| URL | localeMap ID | 結果 | 説明 |
| --- | --- | --- | --- |
| `https://server/is/image/company/image?locale=de_DE` | `de_DE,_DE,` | `fr_FR,_FR,` | GlobalLocale の定義はありません。ロケールパラメーター de_DE は、`localeMap` の最初のエントリと照合されます。 最初に対応する値_DE がアセットの image_DE にサフィックスとして追加され、Image Server 上で見つけようとします。 サーバーで見つかった場合は、返されます。 それ以外の場合は、2 番目の値「」がサフィックスとして使用され、画像自体が返されます。 |

**置き換えの例：**

| URL | `GlobalLocale` ID と `localeMap` ID | 結果 | 説明 |
| --- | --- | --- | --- |
| `https://server/is/image/company/image-main-01?locale=de_DE` | `GlobalLocale=mainlocaleMap -` <br><br/> `de_DE,de,main` | `fr_FR,fr,main` | 上記の置き換えの例では、GlobalLocale が main に設定されています。 ロケールパラメーター de_DE は、`localeMap` の最初のエントリと照合されます。 GlobalLocale サブ文字列が見つかり、最初に対応する値 `de` に置き換えられます。`localeMap`: `image-de-01`。 Image Server で見つかった場合は、が返されます。 そうでない場合は、2 番目の値が置き換えられ、結果として `image-main-01` が返されます。 |

URL でロケールが定義されていない場合、Image Server は DefaultLocale（定義されている場合）を取り込み、URL に適用します。

不明な、または空のロケールパラメーターに `locale=` が指定されている場合、`localeMap` をスキャンして、「で始まる」空の値を探します。 不明なロケールにデフォルトのロケールを適用することが重要です。

#### defaultImage について

Image Server は、要求されたロケールの選択肢を 1 つずつ検索します。一致するものが見つからない場合、ロケールオプションが defaultImage に適用され、一致するバージョンが返されます。 したがって、各ロケールに、ローカリゼーションなしの画像のオプションを含めるか、ローカライズされた defaultImage バージョンをAdobe Dynamic Media Classicで使用できるようにする必要があります。

#### localeMap を見つけるためのシナリオ

次のロケールをサポートするとします。

`en, en_us, en_uk, de, de_at, de_de, fr`

これらのロケールをサフィックス `_E` （英語）、`_G` （ドイツ語）および `_F` （フランス語）にマッピングします。 すべての例で、汎用入力イメージ ID は `myImg` です。

##### localeMap を見つけるための標準的な動作

ロケール ID は対応するサフィックスにマップされます。カタログ内でロケール固有の ID が見つからない場合は、汎用 ID が使用されます。汎用 ID にマッピングされる空の locSuffix 値に注意してください。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,`

| locale= | 検索する出力 ID |
| --- | --- |
| en, en_us, en_uk | myImg_E, myImg |
| de, de_de, de_at | myImg_D, myImg |
| fr | myImg_F, myImg |
| その他 | 。 |

##### ロケールが不明な場合の localeMap の検索

不明なロケールを、特定の ID または汎用 ID にマップできます。例えば、不明なロケールを英語の ID にマッピングしたり、存在しない場合は汎用 ID にマッピングしたりできます。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,|,_E,`

| locale= | 検索する出力 ID |
| --- | --- |
| de, de_de, de_at | myImg_D, myImg |
| fr | myImg_F, myImg |
| その他 | myImg_E, myImg |

また、次のように、不明なロケールについてのみ U などの専用の locSuffix を設定し、`_U` が存在しない場合はデフォルトのイメージに強制することもできます。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,|,U`

または、次のように汎用 ID に直接マップできます。

`attribute::LocaleMap=en,_E,|en_us,_E,|en_uk,_E,|fr,_F,|de,_D,|de_at,_D,|de_de,_D,|,`

##### 多層検索を使用した localeMap の検索

ヨーロッパ、中東、北米などロケールをグループ化し、肌の露出度など地域の基準に対処することが望ましい場合が多くあります。多層検索を使用して、このような効果を実現することができます。

例えば、西および中東での使用に対応するコレクションをサポートするとします。 どちらのコレクションも汎用の画像コレクションに基づいて作成し、いくつかの画像を追加または変更します。その後、特定のロケールに対して、両方のコレクションがさらに絞り込まれます。 例えば、`w1` と `w3` の画像を共有する場合を除き、中東の 2 つのバリアントには `m1, m2` を、西部の 3 つのロケールには `w1, w2,` と `w3` を使用します。 不明なロケールは汎用のコレクションのみにマッピングされ、ロケール固有の画像にはアクセスされません。マッピングは次のようになります。

`attribute::LocaleMap=w1,-W,|w2,-W2,-W,|w3,-W,|m1,-M1,-M,|m2,-M2,-M,|,`

| locale= | 検索する出力 ID |
| --- | --- |
| w1, w3 | myImg-W, myImg |
| w2 | myImg-W2、myImg-W、myImg |
| m1 | myImg-M1、myImg-M、myImg |
| m2 | myImg-M2、myImg-M、myImg |
| その他 | mylmg |

##### 特定の ID を検索して localeMap を見つける

一部の画像命名規則では、汎用画像 ID はサポートされていません。 要求にある汎用 ID を、カタログ内の特定の ID にマップする必要があります。ただし、正確な具体的な ID が不明な場合もあります。

最初の例を基礎として使用すると、すべての言語の画像に `_1`、`_2` または `_3` のサフィックスを含めることができます。 フランス語のロケールに固有の画像には、サフィックス `_22` またはサフィックス `_23` を付けることができます。 また、ドイツ語のロケールに固有の画像には、`_470` または `_480` のサフィックスを含めることができます。

`attribute::LocaleMap=,_1,_2,_3|fr,_22,_23,_1,_2,_3|de,_470,_480,_1,_2,_3|de_at,_470,_480,_1,_2,_3|de_de,_470,_480,_1,_2,_3`

| locale= | 検索する出力 ID |
| --- | --- |
| fr | myImg_22, myImg_23, myImg_1, myImg_2, myImg_3 |
| de, de_at, de_de | myImg_470, myImg_480, myImg_1, myImg_2,myImg_3 |
| その他 | myImg_1, myImg_2, myImg_3 |

##### ローカライゼーションサポートを実装する際の重要な考慮事項

* ローカリゼーションの使用は ID に基づく呼び出しに限られ、パスに基づくアセットの呼び出しには使用できません。したがって、ロケールを使用してビデオを呼び出す場合は、ビデオのフルパスではなく会社 ID またはアセット ID として呼び出す必要があります。ローカライゼーションでは `RTMP` を使用できません。この方法はパスベースのビデオ呼び出しでのみ使用されるからです。
* localeMap がアクティブな場合は、単一のビデオを含む混在メディアセットを使用できません。使用した場合は、このセットのコンテンツの呼び出しが失敗します。この問題を回避するには、1 つのビデオをアダプティブビデオセットに追加します。 追加したら、このアダプティブビデオセットを混在メディアセットに追加します。
* アダプティブビデオセットのコンテンツの要求など、ローカライズされない要求があります。したがって、アダプティブビデオセットをローカライゼーションで使用する場合は、アダプティブビデオセットを混在メディアセット内に配置してください。 次に、`locale=` パラメーターを使用して、セットを混在メディアビューアに呼び出します。

## 画像レンダラ {#image-renderer}

画像レンダラーページでは、画像レンダリングサーバーから画像セットを配信するためのデフォルト設定を指定します。 設定は次の 5 つのカテゴリで使用できます（設定について詳しくは、Image Server のページ自体を参照してください）。

* **[!UICONTROL カタログ管理]**：これらの設定は、Adobe Dynamic Media Classicとカタログファイルのやり取りを決定します。 Adobe Dynamic Media Classic Render Server の URL 呼び出しは、カタログに対して行われ、カタログは、サーバーから画像を配信するための呼び出しを行います。 これらの設定の変更は、Adobe Dynamic Media Classic サポート担当者の協力が必要です。

* **[!UICONTROL セッション属性]**：これらの設定は、エラーパラメーター、相対画像 URL の URL、オブジェクトの重複を許可するかどうかを設定します。

* **[!UICONTROL デフォルトのマテリアル属性]**：この設定により、イメージのデフォルトの解像度とシャープニング設定が確立されます。

* **[!UICONTROL 応答画像属性]**：これらの設定は、画像のデフォルトの表示に関係します。

* **[!UICONTROL カラーマネジメント属性]**：この設定は、画像のデフォルトのカラー設定に関係します。

## ビネット {#vignette}

ビネット ページには、ビネットのデフォルトの外観を設定するための設定が用意されています（オプションについて詳しくは、ページ自体を参照してください）。
