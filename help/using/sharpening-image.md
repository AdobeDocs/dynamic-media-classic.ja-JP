---
title: 画像をシャープにする
description: Adobe Dynamic Media Classicで画像をシャープにする方法を説明します。
contentOwner: Rick Brough
content-type: reference
products: SG_EXPERIENCEMANAGER/Dynamic-Media-Classic
geptopics: SG_SCENESEVENONDEMAND_PK/categories/master_files
feature: Dynamic Media Classic,Asset Management
role: User
exl-id: 4b3e8368-f8f5-46d9-9130-361a8273de2c
topic: Content Management
level: Intermediate
source-git-commit: c4613c78347c4bda3d84747a72146617158c03b6
workflow-type: tm+mt
source-wordcount: '2207'
ht-degree: 30%

---

# 画像をシャープにする {#sharpening-an-image}

シャープとは、デジタル画像のアウトラインを鮮明に表示するための画像操作方法です。シャープの適用によって、エッジのピクセル間のコントラストが大きくなり、領域の明暗が強調されます。また、局所的なコントラストも大きくなるので、微細な部分がはっきりと表示されます。すべての画像に正しくシャープを適用できる決まった方法はありません。シャープが足りなければ、ぼやけた画像になりますが、過剰なシャープは、ハロー、アーチファクトおよびノイズの原因になります。

Adobe Dynamic Media Classicでは、すべての画像に画像プリセットを使用することを強くお勧めします。 これにより、均一なサイズが確保され、画像プリセットで呼び出すすべての画像にシャープニングが適用されます。 さらに、画像プリセットのシャープニングパラメーターを簡単に編集および変更できます。 次回に公開する際、そのプリセットで呼び出されたすべての画像には新しい値が与えられます。

Adobe Dynamic Media Classicでは、ビューアプリセットにシャープニングを追加してから、そのプリセットを使用してビューアを呼び出すこともお勧めします。 これにより、ビューアの画像が鮮明で魅力的になります。

ただし、画像プリセットとビューアプリセットを使用する場合でも、シャープニング方法を使用する場合でも、一番下の行は画像をシャープニングする必要があるということです。 そうしないと、画像（および web サイト）が柔らかくぼやけて見えることがあります。

>[!NOTE]
>
>「シャープ」コマンドは、シャープ効果を含めた画像プリセット設定を上書きします。画像プリセットは、Dynamic Media Image Server から配信される画像のサイズと形式を制御します。 Adobe Dynamic Media Classicでは、画像が均一なサイズとシャープニングで配信されるようにすべての画像を配信するために、画像プリセットを使用することを強くお勧めします。 ただし、いったん個別の画像にシャープを設定すると、その後、画像プリセットのシャープ設定が画像に適用されなくなります。このような画像は、画像プリセットのシャープ設定を適用せずに配信されます。

多くの場合、画像にシャープを適用する必要があります。Adobe Dynamic Media Classicと Image Server には、複数のシャープニングオプションが用意されています。 シャープの適用が画像に与える影響や、シャープの適用がどの程度必要であるか理解することが重要です。ほとんどの画像にシャープを適用する必要がありますが、要求される程度は画像によって異なります。

画像にシャープを適用すると、ピクセルのコントラストが増加し、エッジの強調効果が出ます。人間は、この強調されたエッジのコントラストをシャープとして認識します。画像にシャープフィルタを適用して、画像を強調することは簡単ですが、画像にシャープを適用しすぎることも多くなります。

画像を過剰にシャープにすると、ハロー効果（エッジの線の縞模様）が生じます。

Adobe Dynamic Media Classicおよび Dynamic Media Image Server での画像のシャープニングを最適化するためのベストプラクティスがあります。

[Adobe Dynamic Media Classicおよび Dynamic Media Image Server の画像をシャープにするベストプラクティス ](/help/using/assets/s7_sharpening_images.pdf) を参照してください。

[ シャープニング ](https://s7d5.scene7.com/s7viewers/html5/VideoViewer.html?videoserverurl=https://s7d5.scene7.com/is/content/&emailurl=https://s7d5.scene7.com/s7/emailFriend&serverUrl=https://s7d5.scene7.com/is/image/&config=Scene7SharedAssets/Universal_HTML5_Video&contenturl=https://s7d5.scene7.com/skins/&asset=S7tutorials/547_sharpening1_converted%20renamed_Done-AVS) のトレーニングビデオも参照してください。

**画像をシャープにするには：**

画像をシャープにするには、ロールオーバー **[!UICONTROL 編集]** ボタンを選択して **[!UICONTROL シャープ]** を選択するか、詳細表示の参照パネルで画像を開いて **[!UICONTROL シャープ]** を選択します。 シャープネスエディターページが開き、シャープニングコマンドが表示されます。 必要なコマンドを選択し、[**[!UICONTROL 保存]**] をクリックします。

>[!NOTE]
>
>画像にシャープを適用する前に、プリセットを適用メニューを選択し、画像プリセットを選択して、そのシャープ効果を確認します。画像プリセットのシャープニング効果は、画像に適しています。 **[!UICONTROL プリセットを適用]** メニューは、シャープネスエディターページの下部にあります。

**シャープニングオプション**

以下の表には、Image Server の「シャープの適用」オプションが示されています。

| 名前 | URL プロトコル | 値 | 例 |
| --- | --- | --- | --- |
| 単純なシャープの適用 | `op_sharpen` | `0` 以 `1` | `op_sharpen=1` |
| 再サンプルモード | `resMode` | `bilin`、`bicub`、`sharp2`、`trilin`<br><br>`bilin`：標準の双線形補間を選択します。 最も速い再サンプリング方法。エイリアシング アーティファクトの中には、多くの場合は目立つものがあります。<br>`bicub`：二三次補間を選択します。 `bilin` よりもCPUを大量に消費しますが、より目立たないエイリアシングのアーティファクトで、より鮮明な画像が得られます。<br><br>`sharp2`：補間アルゴリズムとして、変更されたランチョス Windows® 関数を選択します。 CPUのコストが高いと、2 立方バイトよりもわずかにシャープな結果が得られます。<br><br>`trilin`：修正されたトリリニア補間を選択します。この補間では、高解像度と低解像度の両方が使用されます（使用可能な場合）。 エイリアシングが問題となっている場合にのみ使用することをお勧めします。周波数の高いデータが削減されることから、JPEG のサイズが小さくなります。 | `resMode=sharp2` |
| アンシャープマスク | `op_usm` | `amount`、`radius`、`threshold`、`monochrome`<br><br>`amount`：フィルター強度係数（実際 0...5） <br><br>`radius`：フィルターカーネル半径（ピクセル単位）（実際 0...250） <br><br>`threshold`：フィルターしきい値レベル（整数 0...255） <br><br>`monochrome`:`0` に設定すると各色成分に別々にアンシャープマスクが適用され、`1` に設定すると画像の明るさ（強さ）がアンシャープマスクに適用されます | `op_usm=1,1,10,0` |

**[!UICONTROL シャープニング]** メニューを選択し、次のいずれかのオプションを選択します。

* **なし**: シャープを無効にします。

* **シャープ**：ファイルのサイズ変更後に、ファイルに対してシンプルなシャープニングパスを実行します。 Adobe Photoshopの「シャープニング」フィルターに似ており、あらゆるユーザーパラメーターをサポートしています。 通常は、このフィルターまたは **[!UICONTROL アンシャープマスク]** を使用しますが、両方は使用しません。 ベストプラクティスとしてこの方法が推奨されることはありませんが、ボケの補正に役立ちます。（URL: `op_sharpen`）

* **アンシャープマスク**：ダウンサンプリングされた最終的な画像に対するシャープフィルター効果を微調整できます。 効果の強さ、効果の半径（ピクセル単位）、無視されるコントラストのしきい値を制御できます。 このエフェクトでは、Photoshopの「アンシャープマスク」フィルターと同じオプションを使用します。 （URL: `op_usm`）

アンシャープマスクでシャープニングを微調整するには、次のオプションを選択します。

* **量**：エッジピクセルに適用するコントラストの量を制御します。 初期設定値は 0.0 です。高解像度画像では、この値を 5.0 まで高めることができます。適用量は、フィルタ強度の度合いと考えることができます。Adobe Dynamic Media Classicの **[!UICONTROL 金額]** 設定は、Adobe Photoshopの金額設定とは異なります。 Adobe Photoshopでは 1 ～ 500% の範囲で値を使用しますが、Adobe Dynamic Media Classicでは 0.0 ～ 5.0 の範囲で値を調整できます。 （例えば、Photoshop では 5.0 は約 500％に相当し、0.9 は 90％に相当します）。

* **半径**：シャープニングに影響を与えるエッジピクセルを囲むピクセル数を決定します。 この効果は、画像内のすべてのピクセル上で実行され、全方向に放射されます。

最善の半径値は、画像のサイズに依存します。この値を小さく設定すると、端のピクセルのみにシャープが適用されます。大きい値に設定すると、広い範囲のピクセルにシャープが適用されます。

例えば、2000 × 2000 ピクセルの画像と 500 × 500 ピクセルの画像で同様のシャープなエフェクトを得るには、2000 × 2000 ピクセルの画像で半径値を 2 ピクセルに設定します。 次に、500×500 ピクセルの画像で 1 ピクセルの半径値を設定します（ピクセルが多い画像ほど値が大きくなります）。

* **しきい値**：アンシャープマスクフィルターの適用時に無視するコントラストの範囲を決定します。 このオプションは、シャープにされるピクセルが周囲の領域とどの程度違えば、エッジのピクセルをシャープにするかを決定します。

しきい値には、0 ～ 255 の値を使用します。これは、グレースケール画像の明るさのステップ数です。 0 = 黒、128 = 50％グレー、および 255 = 白。例えば、しきい値の値を 12 にした場合、肌のトーンの明るさにわずかな差があっても無視されます。 その際、ノイズを加えずに、まつげと肌が隣り合う場所など、コントラストの高い領域に対してエッジコントラストを追加します。

例えば、誰かの顔の写真があるとします。 アンシャープマスクを適用すると、画像の中でコントラストの大きな部分に加えて滑らかな肌自体も影響を受けます。滑らかな肌でも、明るさの値によって微妙な変化を示します。しきい値を使用しない場合、フィルタによって肌のピクセルの微妙な変化が強調され、ノイズの多い効果（おそらく望ましくない）が発生する一方、まつげのコントラストが増加し、シャープさが強調されます（おそらく望ましい）。これを防ぐには、しきい値を使用して、滑らかな肌のようにコントラストが急激に変化しないピクセルは無視するフィルターとなるようにします。例えば、**[!UICONTROL しきい値]** の値を 2～20 に試してみて、ノイズや肉調画像のポストエライゼーションインを回避する。 デフォルトの **[!UICONTROL しきい値]** 値を 0 にすると、画像内のすべてのピクセルがシャープになります。

* **適用先**：各カラーコンポーネントに個別にシャープニングを適用する場合は、「**[!UICONTROL 各カラー]**」を選択します。画像の明るさ領域にシャープニングを適用する場合は、「**[!UICONTROL 明るさ]**」を選択します。

**再サンプリング**

**[!UICONTROL 再サンプリング]** メニューを選択し、オプションを選択します。 これらのオプションは、ダウンサンプリングした画像をシャープにします。

* **[!UICONTROL なし]**：再サンプリングをオフにします。

* **[!UICONTROL バイリニア]**：最も速い再サンプリング方法。一部のエイリアスアーティファクトが目立ちます。

* **[!UICONTROL バイキュービック法]**:Image Server でのCPUの使用量を増やしますが、顕著なエイリアスアーティファクトが少なく、よりシャープな画像が得られます。

* **[!UICONTROL `Sharpen 2`]**: **[!UICONTROL Bicubic]** よりも少しシャープな結果が得られますが、Image Server ではCPUのコストがさらに高くなります。

* **[!UICONTROL Trilinear]**：使用可能な場合は、高い解像度と低い解像度の両方を使用します。エイリアシングが問題となる場合にのみ推奨されます。 この方法では、周波数の高いデータが削減されるため JPEG のサイズが小さくなります。

**画像プリセットとシャープニング**

最終的な結果を得るために、3 つのシャープニング効果をすべて組み込むことができます。 ただし、この方法はお勧めしません。 Adobe Dynamic Media Classicでは、シャープニング効果を画像プリセットの一部として保存することをお勧めします。 画像プリセットを使用すると、最も頻繁に使用される画像の修飾子をパッケージ化して、小さなテキスト文字列で動的にサイズ変更された画像を作成できます。 画像プリセットには、ファイル形式（通常は web 用のJPEG）、ピクセル数、画像シャープニングの値が含まれます。 特定のタイプの画像サイズの作成に使用する必要がある各画像修飾子を URL に追加する代わりに、「サムネール」などの名前の付いた画像プリセットを作成します。 次に、適切なサイズ、ファイル形式、シャープニングオプションを使用してサムネール画像プリセットを設定します。 画像プリセット名を使用して画像を呼び出します。 画像プリセットは、URL 全体の長さを短縮します。 これらの 2 つの URL で、シャープニングされた同じ 350 x 350 JPEG画像が生成されます。

* `https://sample.scene7.com/is/image/S7train/Backpack_A?wid=350&hei=350&fmt=jpeg&qlt=85,0&resMode=sharp2&op_usm=0.9,1.0,8,0`
* `https://sample.scene7.com/is/image/S7train/Backpack_A?$!_s7product$`

画像プリセットは、いつでも変更または更新することができます。公開した後、および URL のキャッシュがクリアされた後に、画像プリセットに対する変更の結果が表示されます。

サイズカテゴリの各画像に 1 つのプリセットを使用すると、会社の管理者はその画像プリセットの定義を更新できます。 その後、再公開して、その形式を使用するすべての画像に影響を与えることができます。 Web コードを変更せずにすべて。 ベストプラクティスとして、サイト上でユニークなサイズあたりに 1 つの画像プリセットを使用します。画像プリセットを追加するには、グローバルナビゲーションバーで **[!UICONTROL 設定]**/**[!UICONTROL アプリケーション設定]**/**[!UICONTROL 画像プリセット]** に移動します。 次に、「**[!UICONTROL 追加]**」または「**[!UICONTROL 編集]**」を選択して、既存のプリセットを変更します。 プリセットの名前自体が、唯一の必須フィールドです。ただし、すべてのプリセットにある程度のシャープニングを含めるのが最適です。

**JPGの品質**

「JPG 画質」オプションは、JPG の圧縮レベルを制御します。

* **JPG画質**：圧縮レベルとクロミナンスダウンサンプリングを制御する場合は、このオプションを選択します。

* **Slider**:JPGの圧縮レベルを指定します。 この設定は、ファイルサイズと画質の両方に影響を与えます。JPG 画質の値の範囲は、1 ～ 100 です。

* **JPG クロミナンス ダウンサンプリングを有効にする**：高域のルミナンスよりも高域のカラーに対する眼の感度が低いため、JPEGの画像では、画像の情報がルミナンスとカラーの成分に分類されます。 JPEG 画像を圧縮すると、輝度成分は最大解像度が維持され、色成分はピクセルのグループの平均化によりダウンサンプリングされます。ダウンサンプリングは、知覚品質にほとんど影響を与えることなく、データ量を半分または 3 分の 1 に減らします。 ダウンサンプリングは、グレースケール画像では使用できません。この方法は、コントラストが高い画像（テキストがオーバーレイされた画像など）で圧縮の量を低減させるのに役立ちます。

**会社全体のシャープニングオプションの設定**

画像プリセットを使用しなかった場合や、URL 文字列に沿って特定の Image Server シャープニングプロトコルを渡した場合、ダウンサンプリング時に画像のシャープニングは発生しません。 ただし、このようなシャープニングの欠落が発生した場合は、デフォルトのシャープニング値を設定することで、画像に常に一定のシャープニングを適用できます。

会社のデフォルトのシャープニングオプションを設定するには、**[!UICONTROL 設定]**/**[!UICONTROL アプリケーション設定]**/**[!UICONTROL 公開設定]**/**[!UICONTROL Image Server]** に移動します。 デフォルトの再サンプリングモードを **`Sharp2`** に設定すると、ダウンサンプリングの際に画像が常にシャープになります。

**ビューアプリセットへのシャープニングの追加**

シャープニング画像の修飾子をプリセットに追加しない限り、初期ロード時の小さな画像は柔らかく見えることがあります。これは、シャープニングされずにビューアウィンドウに収まるようにダウンサンプリングされるからです。

ビューアプリセット（画像プリセットなど）を使用すると、多くのオプションを 1 か所に集約できます。選択肢としては、スキンやビューアのオプション（印刷ボタンの使用やズームアニメーションの速度の制御など）があります。 ビューアプリセットは、画像プリセットと同じセクションの **[!UICONTROL 設定]**/**[!UICONTROL アプリケーション設定]**/**[!UICONTROL ビューアプリセット]** にあります。

[ ビューアプリセット ](https://s7d5.scene7.com/s7viewers/html5/VideoViewer.html?videoserverurl=https://s7d5.scene7.com/is/content/&emailurl=https://s7d5.scene7.com/s7/emailFriend&serverUrl=https://s7d5.scene7.com/is/image/&config=Scene7SharedAssets/Universal_HTML5_Video&contenturl=https://s7d5.scene7.com/skins/&asset=S7tutorials/550_viewer-presets_converted%20renamed_Done-AVS) トレーニングビデオを参照してください。

修飾子オプションは、すべての eCatalog、回転、カスタムズームビューアプリセットのコア設定セクションの下に表示されます。URL シャープニングコマンドを「修飾子」ボックスに追加すると、そのビューアプリセットでビューアが呼び出されるたびにシャープニングが追加されます。

ビューアプリセットを呼び出すには、ビューア URL で `config=` コマンドを使用します。 ビューアプリセット（`FantasticoZoom2022`）を使用して画像セット（靴）を呼び出す例を次に示します。

`https://s7d9.scene7.com/s7viewers/html5/ZoomViewer.html?asset=Scene7SharedAssets/ImageSet-Views-Sample&config=S7train/FantasticoZoom2022`

ここに示すプリセットは、ビューアのデフォルトのスキンにシャープを適用し、変更します。

**画像固有のオーバーライドの作成**

あまり推奨されないシャープの適用方法として、画像ごとにシャープのオーバーライドを作成する方法が挙げられます。このメソッドは、画像プリセットのシャープニングを独自の特定の値で上書きします。 ただし、この方法は、任意のサイズの他のすべてのシャープニング方法も上書きします。 画像の解像度があまり高くない場合、およびこれらの小さな画像にとって、画像プリセットの値が高すぎる場合、この方法が最適の使用例になります。この場合、画像ごとに一部のシャープニングが必要になる可能性があります。

Adobe Dynamic Media Classicで、任意の画像を選択し、詳細ビューに移動して（**[!UICONTROL 詳細ビュー]** ボタンをダブルクリックまたは押して）、「**[!UICONTROL シャープ]**」を選択します。 任意のパラメーターを変更し、「**[!UICONTROL 保存]**」を選択します。 この処理では、URL で呼び出すコマンド（シャープニング修飾子や画像プリセットなど）ではなく、これらのシャープニングパラメーターを使用するように Image Server に指示されます。 変更が有効になることを確認するには、を公開してください。
